# =====================================================
# UAT Environment - Reference Configuration
# =====================================================
# Deployed on company K8S. See deploy/k8s/ for manifests.
# Infrastructure (PostgreSQL, Redis) is company-managed.
# This file is a reference for K8S ConfigMap/Secret values.
# =====================================================

# --- Environment ---
ENVIRONMENT=uat
SPRING_PROFILES_ACTIVE=uat

# --- Registry ---
REGISTRY=harbor.company.com/workflow
IMAGE_TAG=latest

# --- Database (company-managed) ---
POSTGRES_HOST=uat-postgres.internal
POSTGRES_PORT=5432
POSTGRES_DB=workflow_platform_uat
POSTGRES_USER=platform_uat
POSTGRES_PASSWORD=CHANGE_ME
# Full JDBC URL (used in K8S ConfigMap)
SPRING_DATASOURCE_URL=jdbc:postgresql://uat-postgres.internal:5432/workflow_platform_uat

# --- Redis (company-managed) ---
REDIS_HOST=uat-redis.internal
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME

# --- JWT ---
JWT_SECRET=CHANGE_ME
JWT_EXPIRATION=43200000
JWT_REFRESH_EXPIRATION=259200000

# --- Encryption ---
ENCRYPTION_SECRET_KEY=CHANGE_ME

# --- Service URLs (K8S internal service names) ---
ADMIN_CENTER_URL=http://admin-center-service:8080
WORKFLOW_ENGINE_URL=http://workflow-engine-service:8080
DEVELOPER_WORKSTATION_URL=http://developer-workstation-service:8080
USER_PORTAL_URL=http://user-portal-service:8080

# --- Frontend nginx proxy backend URLs ---
ADMIN_CENTER_BACKEND_URL=http://admin-center-service:8080
USER_PORTAL_BACKEND_URL=http://user-portal-service:8080
DEVELOPER_WORKSTATION_BACKEND_URL=http://developer-workstation-service:8080

# --- CORS ---
CORS_ALLOWED_ORIGINS=https://uat-admin.company.com,https://uat-portal.company.com,https://uat-dev.company.com

# --- Logging ---
LOG_LEVEL=INFO
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_PLATFORM=INFO
LOG_LEVEL_SQL=WARN

# --- Cache TTL (minutes) ---
CACHE_USER_TTL_MINUTES=30
CACHE_PERMISSION_TTL_MINUTES=60
CACHE_DICTIONARY_TTL_MINUTES=120

# --- Security ---
SECURITY_PASSWORD_MIN_LENGTH=10
SECURITY_LOGIN_MAX_FAILED_ATTEMPTS=5
SECURITY_SESSION_TIMEOUT_MINUTES=30

# --- Features ---
SWAGGER_ENABLED=false
FLOWABLE_SCHEMA_UPDATE=true

# --- Connection Pool ---
HIKARI_MAXIMUM_POOL_SIZE=20
HIKARI_MINIMUM_IDLE=5
HIKARI_CONNECTION_TIMEOUT=20000

# --- K8S Server Port (all services use 8080 inside K8S) ---
SERVER_PORT=8080
