# =====================================================
# SIT Environment - Reference Configuration
# =====================================================
# Deployed on company K8S. See deploy/k8s/ for manifests.
# Infrastructure (PostgreSQL, Redis) is company-managed.
# This file is a reference for K8S ConfigMap/Secret values.
# =====================================================

# --- Environment ---
ENVIRONMENT=sit
SPRING_PROFILES_ACTIVE=sit

# --- Registry ---
REGISTRY=harbor.company.com/workflow
IMAGE_TAG=latest

# --- Database (company-managed) ---
POSTGRES_HOST=sit-postgres.internal
POSTGRES_PORT=5432
POSTGRES_DB=workflow_platform_sit
POSTGRES_USER=platform_sit
POSTGRES_PASSWORD=CHANGE_ME
# Full JDBC URL (used in K8S ConfigMap)
SPRING_DATASOURCE_URL=jdbc:postgresql://sit-postgres.internal:5432/workflow_platform_sit

# --- Redis (company-managed) ---
REDIS_HOST=sit-redis.internal
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME

# --- JWT ---
JWT_SECRET=CHANGE_ME
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# --- Encryption ---
ENCRYPTION_SECRET_KEY=CHANGE_ME

# --- Service URLs (K8S internal service names â€” used by both backends and frontend nginx) ---
ADMIN_CENTER_URL=http://admin-center-service:8080
WORKFLOW_ENGINE_URL=http://workflow-engine-service:8080
DEVELOPER_WORKSTATION_URL=http://developer-workstation-service:8080
USER_PORTAL_URL=http://user-portal-service:8080

# --- CORS ---
CORS_ALLOWED_ORIGINS=https://sit-admin.company.com,https://sit-portal.company.com,https://sit-dev.company.com

# --- Logging ---
LOG_LEVEL=INFO
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_PLATFORM=INFO
LOG_LEVEL_SQL=WARN

# --- Cache TTL (minutes) ---
CACHE_USER_TTL_MINUTES=30
CACHE_PERMISSION_TTL_MINUTES=60
CACHE_DICTIONARY_TTL_MINUTES=120

# --- Security ---
SECURITY_PASSWORD_MIN_LENGTH=8
SECURITY_LOGIN_MAX_FAILED_ATTEMPTS=5
SECURITY_SESSION_TIMEOUT_MINUTES=30

# --- Features ---
SWAGGER_ENABLED=true
FLOWABLE_SCHEMA_UPDATE=true

# --- Connection Pool ---
HIKARI_MAXIMUM_POOL_SIZE=15
HIKARI_MINIMUM_IDLE=3
HIKARI_CONNECTION_TIMEOUT=15000

# --- K8S Server Port (all services use 8080 inside K8S) ---
SERVER_PORT=8080
