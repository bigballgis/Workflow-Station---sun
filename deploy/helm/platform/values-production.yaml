# Production Environment Values
global:
  environment: production
  domain: workflow-platform.hsbc.com

# High availability configuration
apiGateway:
  replicaCount: 3
  resources:
    limits:
      cpu: 1000m
      memory: 1Gi
    requests:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
  podDisruptionBudget:
    enabled: true
    minAvailable: 2

workflowEngine:
  replicaCount: 3
  resources:
    limits:
      cpu: 2000m
      memory: 2Gi
    requests:
      cpu: 1000m
      memory: 1Gi
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 15
    targetCPUUtilizationPercentage: 70
  podDisruptionBudget:
    enabled: true
    minAvailable: 2

adminCenter:
  replicaCount: 2
  resources:
    limits:
      cpu: 1000m
      memory: 1Gi
    requests:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilizationPercentage: 70

developerWorkstation:
  replicaCount: 2
  resources:
    limits:
      cpu: 1000m
      memory: 1Gi
    requests:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilizationPercentage: 70

userPortal:
  replicaCount: 3
  resources:
    limits:
      cpu: 1000m
      memory: 1Gi
    requests:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
  podDisruptionBudget:
    enabled: true
    minAvailable: 2

# Database configuration - External managed database
postgresql:
  enabled: false
  external:
    host: workflow-db.postgres.database.azure.com
    port: 5432
    database: workflow_platform
    existingSecret: platform-db-secret

# Redis configuration - External managed Redis
redis:
  enabled: false
  external:
    host: workflow-redis.redis.cache.windows.net
    port: 6380
    ssl: true
    existingSecret: platform-redis-secret

# Kafka configuration - External managed Kafka
kafka:
  enabled: false
  external:
    bootstrapServers: workflow-kafka.servicebus.windows.net:9093
    existingSecret: platform-kafka-secret

# Ingress configuration
ingress:
  enabled: true
  className: nginx
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: "50m"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "300"
    cert-manager.io/cluster-issuer: letsencrypt-prod
  hosts:
    - host: workflow-platform.hsbc.com
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: production-tls-secret
      hosts:
        - workflow-platform.hsbc.com

# Monitoring
monitoring:
  enabled: true
  prometheus:
    enabled: true
    retention: 30d
  grafana:
    enabled: true
  alertmanager:
    enabled: true

# Logging
logging:
  level: INFO
  retention: 90d

# Security
security:
  networkPolicies:
    enabled: true
  podSecurityPolicy:
    enabled: true
  serviceAccount:
    create: true
    annotations:
      azure.workload.identity/client-id: "${AZURE_CLIENT_ID}"

# Backup
backup:
  enabled: true
  schedule: "0 2 * * *"
  retention: 30
