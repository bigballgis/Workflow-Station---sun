-- Update Digital Lending BPMN Process with Condition Expressions
-- This fixes the issue where approval_result variable cannot be resolved

DO $$
DECLARE
    v_process_id BIGINT;
    v_bpmn_data TEXT;
BEGIN
    -- Get the process ID for Digital Lending
    SELECT id INTO v_process_id
    FROM public.dw_process_definitions
    WHERE process_key = 'DigitalLendingProcess'
    AND is_deleted = FALSE
    ORDER BY version DESC
    LIMIT 1;

    IF v_process_id IS NULL THEN
        RAISE EXCEPTION 'Digital Lending process not found';
    END IF;

    RAISE NOTICE 'Updating process ID: %', v_process_id;

    -- Update the BPMN data
    v_bpmn_data := 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxicG1uOmRlZmluaXRpb25zIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiDQogIHhtbG5zOmJwbW49Imh0dHA6Ly93d3cub21nLm9yZy9zcGVjL0JQTU4vMjAxMDA1MjQvTU9ERUwiDQogIHhtbG5zOmJwbW5kaT0iaHR0cDovL3d3dy5vbWcub3JnL3NwZWMvQlBNTi8yMDEwMDUyNC9ESSINCiAgeG1sbnM6ZGM9Imh0dHA6Ly93d3cub21nLm9yZy9zcGVjL0RELzIwMTAwNTI0L0RDIg0KICB4bWxuczpkaT0iaHR0cDovL3d3dy5vbWcub3JnL3NwZWMvREQvMjAxMDA1MjQvREkiDQogIHhtbG5zOmN1c3RvbT0iaHR0cDovL3dvcmtmbG93LnBsYXRmb3JtL3NjaGVtYS9jdXN0b20iDQogIGlkPSJEZWZpbml0aW9uc19EaWdpdGFsTGVuZGluZyINCiAgdGFyZ2V0TmFtZXNwYWNlPSJodHRwOi8vYnBtbi5pby9zY2hlbWEvYnBtbiI+DQogIA0KICA8YnBtbjpwcm9jZXNzIGlkPSJEaWdpdGFsTGVuZGluZ1Byb2Nlc3MiIG5hbWU9IkRpZ2l0YWwgTGVuZGluZyBQcm9jZXNzIiBpc0V4ZWN1dGFibGU9InRydWUiPg0KICAgIA0KICAgIDwhLS0gU3RhcnQgRXZlbnQgLS0+DQogICAgPGJwbW46c3RhcnRFdmVudCBpZD0iU3RhcnRFdmVudF8xIiBuYW1lPSJTdGFydCI+DQogICAgICA8YnBtbjpvdXRnb2luZz5GbG93XzE8L2JwbW46b3V0Z29pbmc+DQogICAgPC9icG1uOnN0YXJ0RXZlbnQ+DQogICAgDQogICAgPCEtLSBUYXNrIDE6IFN1Ym1pdCBBcHBsaWNhdGlvbiAtLT4NCiAgICA8YnBtbjp1c2VyVGFzayBpZD0iVGFza19TdWJtaXRBcHBsaWNhdGlvbiIgbmFtZT0iU3VibWl0IExvYW4gQXBwbGljYXRpb24iPg0KICAgICAgPGJwbW46ZXh0ZW5zaW9uRWxlbWVudHM+DQogICAgICAgIDxjdXN0b206cHJvcGVydGllcz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFzc2lnbmVlVHlwZSIgdmFsdWU9IklOSVRJQVRPUiIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1JZCIgdmFsdWU9IjYiIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJmb3JtTmFtZSIgdmFsdWU9IkxvYW4gQXBwbGljYXRpb24gRm9ybSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1SZWFkT25seSIgdmFsdWU9ImZhbHNlIiAvPg0KICAgICAgICAgIDxjdXN0b206cHJvcGVydHkgbmFtZT0iYWN0aW9uSWRzIiB2YWx1ZT0iWzEyLDIyXSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFjdGlvbk5hbWVzIiB2YWx1ZT0iWyZxdW90O1N1Ym1pdCBMb2FuIEFwcGxpY2F0aW9uJnF1b3Q7LCZxdW90O1dpdGhkcmF3IEFwcGxpY2F0aW9uJnF1b3Q7XSIgLz4NCiAgICAgICAgPC9jdXN0b206cHJvcGVydGllcz4NCiAgICAgIDwvYnBtbjpleHRlbnNpb25FbGVtZW50cz4NCiAgICAgIDxicG1uOmluY29taW5nPkZsb3dfMTwvYnBtbjppbmNvbWluZz4NCiAgICAgIDxicG1uOmluY29taW5nPkZsb3dfTmVlZE1vcmVJbmZvPC9icG1uOmluY29taW5nPg0KICAgICAgPGJwbW46b3V0Z29pbmc+Rmxvd18yPC9icG1uOm91dGdvaW5nPg0KICAgIDwvYnBtbjp1c2VyVGFzaz4NCiAgICANCiAgICA8IS0tIFRhc2sgMjogRG9jdW1lbnQgVmVyaWZpY2F0aW9uIC0tPg0KICAgIDxicG1uOnVzZXJUYXNrIGlkPSJUYXNrX0RvY3VtZW50VmVyaWZpY2F0aW9uIiBuYW1lPSJWZXJpZnkgRG9jdW1lbnRzIj4NCiAgICAgIDxicG1uOmV4dGVuc2lvbkVsZW1lbnRzPg0KICAgICAgICA8Y3VzdG9tOnByb3BlcnRpZXM+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJhc3NpZ25lZVR5cGUiIHZhbHVlPSJWSVJUVUFMX0dST1VQIiAvPg0KICAgICAgICAgIDxjdXN0b206cHJvcGVydHkgbmFtZT0iYXNzaWduZWVWYWx1ZSIgdmFsdWU9IkRPQ1VNRU5UX1ZFUklGSUVSUyIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1JZCIgdmFsdWU9IjkiIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJmb3JtTmFtZSIgdmFsdWU9IkxvYW4gQXBwcm92YWwgRm9ybSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1SZWFkT25seSIgdmFsdWU9ImZhbHNlIiAvPg0KICAgICAgICAgIDxjdXN0b206cHJvcGVydHkgbmFtZT0iYWN0aW9uSWRzIiB2YWx1ZT0iWzIwLDE2LDE3LDE4XSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFjdGlvbk5hbWVzIiB2YWx1ZT0iWyZxdW90O1ZlcmlmeSBEb2N1bWVudHMmcXVvdDssJnF1b3Q7QXBwcm92ZSBMb2FuJnF1b3Q7LCZxdW90O1JlamVjdCBMb2FuJnF1b3Q7LCZxdW90O1JlcXVlc3QgQWRkaXRpb25hbCBJbmZvJnF1b3Q7XSIgLz4NCiAgICAgICAgPC9jdXN0b206cHJvcGVydGllcz4NCiAgICAgIDwvYnBtbjpleHRlbnNpb25FbGVtZW50cz4NCiAgICAgIDxicG1uOmluY29taW5nPkZsb3dfMjwvYnBtbjppbmNvbWluZz4NCiAgICAgIDxicG1uOm91dGdvaW5nPkZsb3dfMzwvYnBtbjpvdXRnb2luZz4NCiAgICA8L2JwbW46dXNlclRhc2s+DQogICAgDQogICAgPCEtLSBHYXRld2F5OiBEb2N1bWVudHMgT0s/IC0tPg0KICAgIDxicG1uOmV4Y2x1c2l2ZUdhdGV3YXkgaWQ9IkdhdGV3YXlfRG9jdW1lbnRzT0siIG5hbWU9IkRvY3VtZW50cyBPSz8iPg0KICAgICAgPGJwbW46aW5jb21pbmc+Rmxvd18zPC9icG1uOmluY29taW5nPg0KICAgICAgPGJwbW46b3V0Z29pbmc+Rmxvd19Eb2NzQXBwcm92ZWQ8L2JwbW46b3V0Z29pbmc+DQogICAgICA8YnBtbjpvdXRnb2luZz5GbG93X0RvY3NSZWplY3RlZDwvYnBtbjpvdXRnb2luZz4NCiAgICA8L2JwbW46ZXhjbHVzaXZlR2F0ZXdheT4NCg0KICAgIA0KICAgIDwhLS0gVGFzayAzOiBDcmVkaXQgQ2hlY2sgLS0+DQogICAgPGJwbW46dXNlclRhc2sgaWQ9IlRhc2tfQ3JlZGl0Q2hlY2siIG5hbWU9IlBlcmZvcm0gQ3JlZGl0IENoZWNrIj4NCiAgICAgIDxicG1uOmV4dGVuc2lvbkVsZW1lbnRzPg0KICAgICAgICA8Y3VzdG9tOnByb3BlcnRpZXM+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJhc3NpZ25lZVR5cGUiIHZhbHVlPSJWSVJUVUFMX0dST1VQIiAvPg0KICAgICAgICAgIDxjdXN0b206cHJvcGVydHkgbmFtZT0iYXNzaWduZWVWYWx1ZSIgdmFsdWU9IkNSRURJVF9PRkZJQ0VSUyIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1JZCIgdmFsdWU9IjkiIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJmb3JtTmFtZSIgdmFsdWU9IkxvYW4gQXBwcm92YWwgRm9ybSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1SZWFkT25seSIgdmFsdWU9ImZhbHNlIiAvPg0KICAgICAgICAgIDxjdXN0b206cHJvcGVydHkgbmFtZT0iYWN0aW9uSWRzIiB2YWx1ZT0iWzEzLDE0LDE1LDE2LDE4XSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFjdGlvbk5hbWVzIiB2YWx1ZT0iWyZxdW90O1BlcmZvcm0gQ3JlZGl0IENoZWNrJnF1b3Q7LCZxdW90O1ZpZXcgQ3JlZGl0IFJlcG9ydCZxdW90OywmcXVvdDtDYWxjdWxhdGUgRU1JJnF1b3Q7LCZxdW90O0FwcHJvdmUgTG9hbiZxdW90OywmcXVvdDtSZXF1ZXN0IEFkZGl0aW9uYWwgSW5mbyZxdW90O10iIC8+DQogICAgICAgIDwvY3VzdG9tOnByb3BlcnRpZXM+DQogICAgICA8L2JwbW46ZXh0ZW5zaW9uRWxlbWVudHM+DQogICAgICA8YnBtbjppbmNvbWluZz5GbG93X0RvY3NBcHByb3ZlZDwvYnBtbjppbmNvbWluZz4NCiAgICAgIDxicG1uOm91dGdvaW5nPkZsb3dfNDwvYnBtbjpvdXRnb2luZz4NCiAgICA8L2JwbW46dXNlclRhc2s+DQogICAgDQogICAgPCEtLSBUYXNrIDQ6IFJpc2sgQXNzZXNzbWVudCAtLT4NCiAgICA8YnBtbjp1c2VyVGFzayBpZD0iVGFza19SaXNrQXNzZXNzbWVudCIgbmFtZT0iQXNzZXNzIFJpc2siPg0KICAgICAgPGJwbW46ZXh0ZW5zaW9uRWxlbWVudHM+DQogICAgICAgIDxjdXN0b206cHJvcGVydGllcz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFzc2lnbmVlVHlwZSIgdmFsdWU9IlZJUlRVQUxfR1JPVVAiIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJhc3NpZ25lZVZhbHVlIiB2YWx1ZT0iUklTS19PRkZJQ0VSUyIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1JZCIgdmFsdWU9IjkiIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJmb3JtTmFtZSIgdmFsdWU9IkxvYW4gQXBwcm92YWwgRm9ybSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1SZWFkT25seSIgdmFsdWU9ImZhbHNlIiAvPg0KICAgICAgICAgIDxjdXN0b206cHJvcGVydHkgbmFtZT0iYWN0aW9uSWRzIiB2YWx1ZT0iWzE5LDE0LDE2LDE3LDE4XSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFjdGlvbk5hbWVzIiB2YWx1ZT0iWyZxdW90O0Fzc2VzcyBSaXNrJnF1b3Q7LCZxdW90O1ZpZXcgQ3JlZGl0IFJlcG9ydCZxdW90OywmcXVvdDtBcHByb3ZlIExvYW4mcXVvdDssJnF1b3Q7UmVqZWN0IExvYW4mcXVvdDssJnF1b3Q7UmVxdWVzdCBBZGRpdGlvbmFsIEluZm8mcXVvdDtdIiAvPg0KICAgICAgICA8L2N1c3RvbTpwcm9wZXJ0aWVzPg0KICAgICAgPC9icG1uOmV4dGVuc2lvbkVsZW1lbnRzPg0KICAgICAgPGJwbW46aW5jb21pbmc+Rmxvd180PC9icG1uOmluY29taW5nPg0KICAgICAgPGJwbW46b3V0Z29pbmc+Rmxvd181PC9icG1uOm91dGdvaW5nPg0KICAgIDwvYnBtbjp1c2VyVGFzaz4NCiAgICANCiAgICA8IS0tIEdhdGV3YXk6IFJpc2sgQWNjZXB0YWJsZT8gLS0+DQogICAgPGJwbW46ZXhjbHVzaXZlR2F0ZXdheSBpZD0iR2F0ZXdheV9SaXNrQWNjZXB0YWJsZSIgbmFtZT0iUmlzayBBY2NlcHRhYmxlPyI+DQogICAgICA8YnBtbjppbmNvbWluZz5GbG93XzU8L2JwbW46aW5jb21pbmc+DQogICAgICA8YnBtbjpvdXRnb2luZz5GbG93X0xvd1Jpc2s8L2JwbW46b3V0Z29pbmc+DQogICAgICA8YnBtbjpvdXRnb2luZz5GbG93X0hpZ2hSaXNrPC9icG1uOm91dGdvaW5nPg0KICAgICAgPGJwbW46b3V0Z29pbmc+Rmxvd19OZWVkTW9yZUluZm88L2JwbW46b3V0Z29pbmc+DQogICAgPC9icG1uOmV4Y2x1c2l2ZUdhdGV3YXk+DQogICAgDQogICAgPCEtLSBUYXNrIDU6IE1hbmFnZXIgQXBwcm92YWwgLS0+DQogICAgPGJwbW46dXNlclRhc2sgaWQ9IlRhc2tfTWFuYWdlckFwcHJvdmFsIiBuYW1lPSJNYW5hZ2VyIEFwcHJvdmFsIj4NCiAgICAgIDxicG1uOmV4dGVuc2lvbkVsZW1lbnRzPg0KICAgICAgICA8Y3VzdG9tOnByb3BlcnRpZXM+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJhc3NpZ25lZVR5cGUiIHZhbHVlPSJFTlRJVFlfTUFOQUdFUiIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1JZCIgdmFsdWU9IjkiIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJmb3JtTmFtZSIgdmFsdWU9IkxvYW4gQXBwcm92YWwgRm9ybSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImZvcm1SZWFkT25seSIgdmFsdWU9ImZhbHNlIiAvPg0KICAgICAgICAgIDxjdXN0b206cHJvcGVydHkgbmFtZT0iYWN0aW9uSWRzIiB2YWx1ZT0iWzE2LDE3LDE4LDE0XSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFjdGlvbk5hbWVzIiB2YWx1ZT0iWyZxdW90O0FwcHJvdmUgTG9hbiZxdW90OywmcXVvdDtSZWplY3QgTG9hbiZxdW90OywmcXVvdDtSZXF1ZXN0IEFkZGl0aW9uYWwgSW5mbyZxdW90OywmcXVvdDtWaWV3IENyZWRpdCBSZXBvcnQmcXVvdDtdIiAvPg0KICAgICAgICA8L2N1c3RvbTpwcm9wZXJ0aWVzPg0KICAgICAgPC9icG1uOmV4dGVuc2lvbkVsZW1lbnRzPg0KICAgICAgPGJwbW46aW5jb21pbmc+Rmxvd19Mb3dSaXNrPC9icG1uOmluY29taW5nPg0KICAgICAgPGJwbW46b3V0Z29pbmc+Rmxvd182PC9icG1uOm91dGdvaW5nPg0KICAgIDwvYnBtbjp1c2VyVGFzaz4NCiAgICANCiAgICA8IS0tIEdhdGV3YXk6IE1hbmFnZXIgRGVjaXNpb24gLS0+DQogICAgPGJwbW46ZXhjbHVzaXZlR2F0ZXdheSBpZD0iR2F0ZXdheV9NYW5hZ2VyRGVjaXNpb24iIG5hbWU9Ik1hbmFnZXIgQXBwcm92ZWQ/Ij4NCiAgICAgIDxicG1uOmluY29taW5nPkZsb3dfNjwvYnBtbjppbmNvbWluZz4NCiAgICAgIDxicG1uOm91dGdvaW5nPkZsb3dfTWFuYWdlckFwcHJvdmVkPC9icG1uOm91dGdvaW5nPg0KICAgICAgPGJwbW46b3V0Z29pbmc+Rmxvd19NYW5hZ2VyUmVqZWN0ZWQ8L2JwbW46b3V0Z29pbmc+DQogICAgPC9icG1uOmV4Y2x1c2l2ZUdhdGV3YXk+DQoNCiAgICANCiAgICA8IS0tIFRhc2sgNjogU2VuaW9yIE1hbmFnZXIgQXBwcm92YWwgKGZvciBoaWdoLXJpc2sgbG9hbnMpIC0tPg0KICAgIDxicG1uOnVzZXJUYXNrIGlkPSJUYXNrX1Nlbmlvck1hbmFnZXJBcHByb3ZhbCIgbmFtZT0iU2VuaW9yIE1hbmFnZXIgQXBwcm92YWwiPg0KICAgICAgPGJwbW46ZXh0ZW5zaW9uRWxlbWVudHM+DQogICAgICAgIDxjdXN0b206cHJvcGVydGllcz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFzc2lnbmVlVHlwZSIgdmFsdWU9IkZVTkNUSU9OX01BTkFHRVIiIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJmb3JtSWQiIHZhbHVlPSI5IiAvPg0KICAgICAgICAgIDxjdXN0b206cHJvcGVydHkgbmFtZT0iZm9ybU5hbWUiIHZhbHVlPSJMb2FuIEFwcHJvdmFsIEZvcm0iIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJmb3JtUmVhZE9ubHkiIHZhbHVlPSJmYWxzZSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFjdGlvbklkcyIgdmFsdWU9IlsxNiwxNywxOCwxNF0iIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJhY3Rpb25OYW1lcyIgdmFsdWU9IlsmcXVvdDtBcHByb3ZlIExvYW4mcXVvdDssJnF1b3Q7UmVqZWN0IExvYW4mcXVvdDssJnF1b3Q7UmVxdWVzdCBBZGRpdGlvbmFsIEluZm8mcXVvdDssJnF1b3Q7VmlldyBDcmVkaXQgUmVwb3J0JnF1b3Q7XSIgLz4NCiAgICAgICAgPC9jdXN0b206cHJvcGVydGllcz4NCiAgICAgIDwvYnBtbjpleHRlbnNpb25FbGVtZW50cz4NCiAgICAgIDxicG1uOmluY29taW5nPkZsb3dfTWFuYWdlckFwcHJvdmVkPC9icG1uOmluY29taW5nPg0KICAgICAgPGJwbW46b3V0Z29pbmc+Rmxvd183PC9icG1uOm91dGdvaW5nPg0KICAgIDwvYnBtbjp1c2VyVGFzaz4NCiAgICANCiAgICA8IS0tIEdhdGV3YXk6IFNlbmlvciBNYW5hZ2VyIERlY2lzaW9uIC0tPg0KICAgIDxicG1uOmV4Y2x1c2l2ZUdhdGV3YXkgaWQ9IkdhdGV3YXlfU2VuaW9yTWFuYWdlckRlY2lzaW9uIiBuYW1lPSJTZW5pb3IgTWFuYWdlciBBcHByb3ZlZD8iPg0KICAgICAgPGJwbW46aW5jb21pbmc+Rmxvd183PC9icG1uOmluY29taW5nPg0KICAgICAgPGJwbW46b3V0Z29pbmc+Rmxvd19TZW5pb3JBcHByb3ZlZDwvYnBtbjpvdXRnb2luZz4NCiAgICAgIDxicG1uOm91dGdvaW5nPkZsb3dfU2VuaW9yUmVqZWN0ZWQ8L2JwbW46b3V0Z29pbmc+DQogICAgPC9icG1uOmV4Y2x1c2l2ZUdhdGV3YXk+DQogICAgDQogICAgPCEtLSBUYXNrIDc6IExvYW4gRGlzYnVyc2VtZW50IC0tPg0KICAgIDxicG1uOnVzZXJUYXNrIGlkPSJUYXNrX0Rpc2J1cnNlbWVudCIgbmFtZT0iUHJvY2VzcyBEaXNidXJzZW1lbnQiPg0KICAgICAgPGJwbW46ZXh0ZW5zaW9uRWxlbWVudHM+DQogICAgICAgIDxjdXN0b206cHJvcGVydGllcz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFzc2lnbmVlVHlwZSIgdmFsdWU9IlZJUlRVQUxfR1JPVVAiIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJhc3NpZ25lZVZhbHVlIiB2YWx1ZT0iRklOQU5DRV9URUFNIiAvPg0KICAgICAgICAgIDxjdXN0b206cHJvcGVydHkgbmFtZT0iZm9ybUlkIiB2YWx1ZT0iMTAiIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJmb3JtTmFtZSIgdmFsdWU9IkxvYW4gRGlzYnVyc2VtZW50IEZvcm0iIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJmb3JtUmVhZE9ubHkiIHZhbHVlPSJmYWxzZSIgLz4NCiAgICAgICAgICA8Y3VzdG9tOnByb3BlcnR5IG5hbWU9ImFjdGlvbklkcyIgdmFsdWU9IlsyMSwxNF0iIC8+DQogICAgICAgICAgPGN1c3RvbTpwcm9wZXJ0eSBuYW1lPSJhY3Rpb25OYW1lcyIgdmFsdWU9IlsmcXVvdDtQcm9jZXNzIERpc2J1cnNlbWVudCZxdW90OywmcXVvdDtWaWV3IENyZWRpdCBSZXBvcnQmcXVvdDtdIiAvPg0KICAgICAgICA8L2N1c3RvbTpwcm9wZXJ0aWVzPg0KICAgICAgPC9icG1uOmV4dGVuc2lvbkVsZW1lbnRzPg0KICAgICAgPGJwbW46aW5jb21pbmc+Rmxvd19TZW5pb3JBcHByb3ZlZDwvYnBtbjppbmNvbWluZz4NCiAgICAgIDxicG1uOm91dGdvaW5nPkZsb3dfODwvYnBtbjpvdXRnb2luZz4NCiAgICA8L2JwbW46dXNlclRhc2s+DQogICAgDQogICAgPCEtLSBFbmQgRXZlbnRzIC0tPg0KICAgIDxicG1uOmVuZEV2ZW50IGlkPSJFbmRFdmVudF9BcHByb3ZlZCIgbmFtZT0iTG9hbiBEaXNidXJzZWQiPg0KICAgICAgPGJwbW46aW5jb21pbmc+Rmxvd184PC9icG1uOmluY29taW5nPg0KICAgIDwvYnBtbjplbmRFdmVudD4NCiAgICANCiAgICA8YnBtbjplbmRFdmVudCBpZD0iRW5kRXZlbnRfUmVqZWN0ZWQiIG5hbWU9IkxvYW4gUmVqZWN0ZWQiPg0KICAgICAgPGJwbW46aW5jb21pbmc+Rmxvd19Eb2NzUmVqZWN0ZWQ8L2JwbW46aW5jb21pbmc+DQogICAgICA8YnBtbjppbmNvbWluZz5GbG93X0hpZ2hSaXNrPC9icG1uOmluY29taW5nPg0KICAgICAgPGJwbW46aW5jb21pbmc+Rmxvd19NYW5hZ2VyUmVqZWN0ZWQ8L2JwbW46aW5jb21pbmc+DQogICAgICA8YnBtbjppbmNvbWluZz5GbG93X1NlbmlvclJlamVjdGVkPC9icG1uOmluY29taW5nPg0KICAgIDwvYnBtbjplbmRFdmVudD4NCiAgICANCiAgICA8IS0tIFNlcXVlbmNlIEZsb3dzIC0tPg0KICAgIDxicG1uOnNlcXVlbmNlRmxvdyBpZD0iRmxvd18xIiBzb3VyY2VSZWY9IlN0YXJ0RXZlbnRfMSIgdGFyZ2V0UmVmPSJUYXNrX1N1Ym1pdEFwcGxpY2F0aW9uIiAvPg0KICAgIDxicG1uOnNlcXVlbmNlRmxvdyBpZD0iRmxvd18yIiBzb3VyY2VSZWY9IlRhc2tfU3VibWl0QXBwbGljYXRpb24iIHRhcmdldFJlZj0iVGFza19Eb2N1bWVudFZlcmlmaWNhdGlvbiIgLz4NCiAgICA8YnBtbjpzZXF1ZW5jZUZsb3cgaWQ9IkZsb3dfMyIgc291cmNlUmVmPSJUYXNrX0RvY3VtZW50VmVyaWZpY2F0aW9uIiB0YXJnZXRSZWY9IkdhdGV3YXlfRG9jdW1lbnRzT0siIC8+DQogICAgPGJwbW46c2VxdWVuY2VGbG93IGlkPSJGbG93X0RvY3NBcHByb3ZlZCIgbmFtZT0iWWVzIiBzb3VyY2VSZWY9IkdhdGV3YXlfRG9jdW1lbnRzT0siIHRhcmdldFJlZj0iVGFza19DcmVkaXRDaGVjayI+DQogICAgICA8YnBtbjpjb25kaXRpb25FeHByZXNzaW9uIHhzaTp0eXBlPSJicG1uOnRGb3JtYWxFeHByZXNzaW9uIj4ke2FwcHJvdmFsX3Jlc3VsdCA9PSAnYXBwcm92ZWQnfTwvYnBtbjpjb25kaXRpb25FeHByZXNzaW9uPg0KICAgIDwvYnBtbjpzZXF1ZW5jZUZsb3c+DQogICAgPGJwbW46c2VxdWVuY2VGbG93IGlkPSJGbG93X0RvY3NSZWplY3RlZCIgbmFtZT0iTm8iIHNvdXJjZVJlZj0iR2F0ZXdheV9Eb2N1bWVudHNPSyIgdGFyZ2V0UmVmPSJFbmRFdmVudF9SZWplY3RlZCI+DQogICAgICA8YnBtbjpjb25kaXRpb25FeHByZXNzaW9uIHhzaTp0eXBlPSJicG1uOnRGb3JtYWxFeHByZXNzaW9uIj4ke2FwcHJvdmFsX3Jlc3VsdCA9PSAncmVqZWN0ZWQnfTwvYnBtbjpjb25kaXRpb25FeHByZXNzaW9uPg0KICAgIDwvYnBtbjpzZXF1ZW5jZUZsb3c+DQogICAgPGJwbW46c2VxdWVuY2VGbG93IGlkPSJGbG93XzQiIHNvdXJjZVJlZj0iVGFza19DcmVkaXRDaGVjayIgdGFyZ2V0UmVmPSJUYXNrX1Jpc2tBc3Nlc3NtZW50IiAvPg0KICAgIDxicG1uOnNlcXVlbmNlRmxvdyBpZD0iRmxvd181IiBzb3VyY2VSZWY9IlRhc2tfUmlza0Fzc2Vzc21lbnQiIHRhcmdldFJlZj0iR2F0ZXdheV9SaXNrQWNjZXB0YWJsZSIgLz4NCiAgICA8YnBtbjpzZXF1ZW5jZUZsb3cgaWQ9IkZsb3dfTG93UmlzayIgbmFtZT0iTG93L01lZGl1bSBSaXNrIiBzb3VyY2VSZWY9IkdhdGV3YXlfUmlza0FjY2VwdGFibGUiIHRhcmdldFJlZj0iVGFza19NYW5hZ2VyQXBwcm92YWwiPg0KICAgICAgPGJwbW46Y29uZGl0aW9uRXhwcmVzc2lvbiB4c2k6dHlwZT0iYnBtbjp0Rm9ybWFsRXhwcmVzc2lvbiI+JHthcHByb3ZhbF9yZXN1bHQgPT0gJ2FwcHJvdmVkJ308L2JwbW46Y29uZGl0aW9uRXhwcmVzc2lvbj4NCiAgICA8L2JwbW46c2VxdWVuY2VGbG93Pg0KICAgIDxicG1uOnNlcXVlbmNlRmxvdyBpZD0iRmxvd19IaWdoUmlzayIgbmFtZT0iSGlnaCBSaXNrIC0gUmVqZWN0IiBzb3VyY2VSZWY9IkdhdGV3YXlfUmlza0FjY2VwdGFibGUiIHRhcmdldFJlZj0iRW5kRXZlbnRfUmVqZWN0ZWQiPg0KICAgICAgPGJwbW46Y29uZGl0aW9uRXhwcmVzc2lvbiB4c2k6dHlwZT0iYnBtbjp0Rm9ybWFsRXhwcmVzc2lvbiI+JHthcHByb3ZhbF9yZXN1bHQgPT0gJ3JlamVjdGVkJ308L2JwbW46Y29uZGl0aW9uRXhwcmVzc2lvbj4NCiAgICA8L2JwbW46c2VxdWVuY2VGbG93Pg0KICAgIDxicG1uOnNlcXVlbmNlRmxvdyBpZD0iRmxvd19OZWVkTW9yZUluZm8iIG5hbWU9Ik5lZWQgTW9yZSBJbmZvIiBzb3VyY2VSZWY9IkdhdGV3YXlfUmlza0FjY2VwdGFibGUiIHRhcmdldFJlZj0iVGFza19TdWJtaXRBcHBsaWNhdGlvbiI+DQogICAgICA8YnBtbjpjb25kaXRpb25FeHByZXNzaW9uIHhzaTp0eXBlPSJicG1uOnRGb3JtYWxFeHByZXNzaW9uIj4ke2FwcHJvdmFsX3Jlc3VsdCA9PSAnbmVlZF9tb3JlX2luZm8nfTwvYnBtbjpjb25kaXRpb25FeHByZXNzaW9uPg0KICAgIDwvYnBtbjpzZXF1ZW5jZUZsb3c+DQogICAgPGJwbW46c2VxdWVuY2VGbG93IGlkPSJGbG93XzYiIHNvdXJjZVJlZj0iVGFza19NYW5hZ2VyQXBwcm92YWwiIHRhcmdldFJlZj0iR2F0ZXdheV9NYW5hZ2VyRGVjaXNpb24iIC8+DQogICAgPGJwbW46c2VxdWVuY2VGbG93IGlkPSJGbG93X01hbmFnZXJBcHByb3ZlZCIgbmFtZT0iWWVzIiBzb3VyY2VSZWY9IkdhdGV3YXlfTWFuYWdlckRlY2lzaW9uIiB0YXJnZXRSZWY9IlRhc2tfU2VuaW9yTWFuYWdlckFwcHJvdmFsIj4NCiAgICAgIDxicG1uOmNvbmRpdGlvbkV4cHJlc3Npb24geHNpOnR5cGU9ImJwbW46dEZvcm1hbEV4cHJlc3Npb24iPiR7YXBwcm92YWxfcmVzdWx0ID09ICdhcHByb3ZlZCd9PC9icG1uOmNvbmRpdGlvbkV4cHJlc3Npb24+DQogICAgPC9icG1uOnNlcXVlbmNlRmxvdz4NCiAgICA8YnBtbjpzZXF1ZW5jZUZsb3cgaWQ9IkZsb3dfTWFuYWdlclJlamVjdGVkIiBuYW1lPSJObyIgc291cmNlUmVmPSJHYXRld2F5X01hbmFnZXJEZWNpc2lvbiIgdGFyZ2V0UmVmPSJFbmRFdmVudF9SZWplY3RlZCI+DQogICAgICA8YnBtbjpjb25kaXRpb25FeHByZXNzaW9uIHhzaTp0eXBlPSJicG1uOnRGb3JtYWxFeHByZXNzaW9uIj4ke2FwcHJvdmFsX3Jlc3VsdCA9PSAncmVqZWN0ZWQnfTwvYnBtbjpjb25kaXRpb25FeHByZXNzaW9uPg0KICAgIDwvYnBtbjpzZXF1ZW5jZUZsb3c+DQogICAgPGJwbW46c2VxdWVuY2VGbG93IGlkPSJGbG93XzciIHNvdXJjZVJlZj0iVGFza19TZW5pb3JNYW5hZ2VyQXBwcm92YWwiIHRhcmdldFJlZj0iR2F0ZXdheV9TZW5pb3JNYW5hZ2VyRGVjaXNpb24iIC8+DQogICAgPGJwbW46c2VxdWVuY2VGbG93IGlkPSJGbG93X1NlbmlvckFwcHJvdmVkIiBuYW1lPSJZZXMiIHNvdXJjZVJlZj0iR2F0ZXdheV9TZW5pb3JNYW5hZ2VyRGVjaXNpb24iIHRhcmdldFJlZj0iVGFza19EaXNidXJzZW1lbnQiPg0KICAgICAgPGJwbW46Y29uZGl0aW9uRXhwcmVzc2lvbiB4c2k6dHlwZT0iYnBtbjp0Rm9ybWFsRXhwcmVzc2lvbiI+JHthcHByb3ZhbF9yZXN1bHQgPT0gJ2FwcHJvdmVkJ308L2JwbW46Y29uZGl0aW9uRXhwcmVzc2lvbj4NCiAgICA8L2JwbW46c2VxdWVuY2VGbG93Pg0KICAgIDxicG1uOnNlcXVlbmNlRmxvdyBpZD0iRmxvd19TZW5pb3JSZWplY3RlZCIgbmFtZT0iTm8iIHNvdXJjZVJlZj0iR2F0ZXdheV9TZW5pb3JNYW5hZ2VyRGVjaXNpb24iIHRhcmdldFJlZj0iRW5kRXZlbnRfUmVqZWN0ZWQiPg0KICAgICAgPGJwbW46Y29uZGl0aW9uRXhwcmVzc2lvbiB4c2k6dHlwZT0iYnBtbjp0Rm9ybWFsRXhwcmVzc2lvbiI+JHthcHByb3ZhbF9yZXN1bHQgPT0gJ3JlamVjdGVkJ308L2JwbW46Y29uZGl0aW9uRXhwcmVzc2lvbj4NCiAgICA8L2JwbW46c2VxdWVuY2VGbG93Pg0KICAgIDxicG1uOnNlcXVlbmNlRmxvdyBpZD0iRmxvd184IiBzb3VyY2VSZWY9IlRhc2tfRGlzYnVyc2VtZW50IiB0YXJnZXRSZWY9IkVuZEV2ZW50X0FwcHJvdmVkIiAvPg0KICAgIA0KICA8L2JwbW46cHJvY2Vzcz4NCiAgDQogIDwhLS0gQlBNTiBEaWFncmFtIC0tPg0KICA8YnBtbmRpOkJQTU5EaWFncmFtIGlkPSJCUE1ORGlhZ3JhbV8xIj4NCiAgICA8YnBtbmRpOkJQTU5QbGFuZSBpZD0iQlBNTlBsYW5lXzEiIGJwbW5FbGVtZW50PSJEaWdpdGFsTGVuZGluZ1Byb2Nlc3MiPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5TaGFwZSBpZD0iU3RhcnRFdmVudF8xX2RpIiBicG1uRWxlbWVudD0iU3RhcnRFdmVudF8xIj4NCiAgICAgICAgPGRjOkJvdW5kcyB4PSIxODAiIHk9IjE2MCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiAvPg0KICAgICAgPC9icG1uZGk6QlBNTlNoYXBlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5TaGFwZSBpZD0iVGFza19TdWJtaXRBcHBsaWNhdGlvbl9kaSIgYnBtbkVsZW1lbnQ9IlRhc2tfU3VibWl0QXBwbGljYXRpb24iPg0KICAgICAgICA8ZGM6Qm91bmRzIHg9IjI4MCIgeT0iMTM4IiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjgwIiAvPg0KICAgICAgPC9icG1uZGk6QlBNTlNoYXBlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5TaGFwZSBpZD0iVGFza19Eb2N1bWVudFZlcmlmaWNhdGlvbl9kaSIgYnBtbkVsZW1lbnQ9IlRhc2tfRG9jdW1lbnRWZXJpZmljYXRpb24iPg0KICAgICAgICA8ZGM6Qm91bmRzIHg9IjQ0MCIgeT0iMTM4IiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjgwIiAvPg0KICAgICAgPC9icG1uZGk6QlBNTlNoYXBlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5TaGFwZSBpZD0iR2F0ZXdheV9Eb2N1bWVudHNPS19kaSIgYnBtbkVsZW1lbnQ9IkdhdGV3YXlfRG9jdW1lbnRzT0siIGlzTWFya2VyVmlzaWJsZT0idHJ1ZSI+DQogICAgICAgIDxkYzpCb3VuZHMgeD0iNjAwIiB5PSIxNTMiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5TaGFwZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1OU2hhcGUgaWQ9IlRhc2tfQ3JlZGl0Q2hlY2tfZGkiIGJwbW5FbGVtZW50PSJUYXNrX0NyZWRpdENoZWNrIj4NCiAgICAgICAgPGRjOkJvdW5kcyB4PSI3MjAiIHk9IjEzOCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSI4MCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5TaGFwZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1OU2hhcGUgaWQ9IlRhc2tfUmlza0Fzc2Vzc21lbnRfZGkiIGJwbW5FbGVtZW50PSJUYXNrX1Jpc2tBc3Nlc3NtZW50Ij4NCiAgICAgICAgPGRjOkJvdW5kcyB4PSI4ODAiIHk9IjEzOCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSI4MCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5TaGFwZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1OU2hhcGUgaWQ9IkdhdGV3YXlfUmlza0FjY2VwdGFibGVfZGkiIGJwbW5FbGVtZW50PSJHYXRld2F5X1Jpc2tBY2NlcHRhYmxlIiBpc01hcmtlclZpc2libGU9InRydWUiPg0KICAgICAgICA8ZGM6Qm91bmRzIHg9IjEwNDAiIHk9IjE1MyIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiAvPg0KICAgICAgPC9icG1uZGk6QlBNTlNoYXBlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5TaGFwZSBpZD0iVGFza19NYW5hZ2VyQXBwcm92YWxfZGkiIGJwbW5FbGVtZW50PSJUYXNrX01hbmFnZXJBcHByb3ZhbCI+DQogICAgICAgIDxkYzpCb3VuZHMgeD0iMTE2MCIgeT0iMTM4IiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjgwIiAvPg0KICAgICAgPC9icG1uZGk6QlBNTlNoYXBlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5TaGFwZSBpZD0iR2F0ZXdheV9NYW5hZ2VyRGVjaXNpb25fZGkiIGJwbW5FbGVtZW50PSJHYXRld2F5X01hbmFnZXJEZWNpc2lvbiIgaXNNYXJrZXJWaXNpYmxlPSJ0cnVlIj4NCiAgICAgICAgPGRjOkJvdW5kcyB4PSIxMzIwIiB5PSIxNTMiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5TaGFwZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1OU2hhcGUgaWQ9IlRhc2tfU2VuaW9yTWFuYWdlckFwcHJvdmFsX2RpIiBicG1uRWxlbWVudD0iVGFza19TZW5pb3JNYW5hZ2VyQXBwcm92YWwiPg0KICAgICAgICA8ZGM6Qm91bmRzIHg9IjE0NDAiIHk9IjEzOCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSI4MCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5TaGFwZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1OU2hhcGUgaWQ9IkdhdGV3YXlfU2VuaW9yTWFuYWdlckRlY2lzaW9uX2RpIiBicG1uRWxlbWVudD0iR2F0ZXdheV9TZW5pb3JNYW5hZ2VyRGVjaXNpb24iIGlzTWFya2VyVmlzaWJsZT0idHJ1ZSI+DQogICAgICAgIDxkYzpCb3VuZHMgeD0iMTYwMCIgeT0iMTUzIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIC8+DQogICAgICA8L2JwbW5kaTpCUE1OU2hhcGU+DQogICAgICANCiAgICAgIDxicG1uZGk6QlBNTlNoYXBlIGlkPSJUYXNrX0Rpc2J1cnNlbWVudF9kaSIgYnBtbkVsZW1lbnQ9IlRhc2tfRGlzYnVyc2VtZW50Ij4NCiAgICAgICAgPGRjOkJvdW5kcyB4PSIxNzIwIiB5PSIxMzgiIHdpZHRoPSIxMDAiIGhlaWdodD0iODAiIC8+DQogICAgICA8L2JwbW5kaTpCUE1OU2hhcGU+DQogICAgICANCiAgICAgIDxicG1uZGk6QlBNTlNoYXBlIGlkPSJFbmRFdmVudF9BcHByb3ZlZF9kaSIgYnBtbkVsZW1lbnQ9IkVuZEV2ZW50X0FwcHJvdmVkIj4NCiAgICAgICAgPGRjOkJvdW5kcyB4PSIxODgwIiB5PSIxNjAiIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5TaGFwZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1OU2hhcGUgaWQ9IkVuZEV2ZW50X1JlamVjdGVkX2RpIiBicG1uRWxlbWVudD0iRW5kRXZlbnRfUmVqZWN0ZWQiPg0KICAgICAgICA8ZGM6Qm91bmRzIHg9IjEwNDciIHk9IjMyMCIgd2lkdGg9IjM2IiBoZWlnaHQ9IjM2IiAvPg0KICAgICAgPC9icG1uZGk6QlBNTlNoYXBlPg0KICAgICAgDQogICAgICA8IS0tIEVkZ2VzIC0tPg0KICAgICAgPGJwbW5kaTpCUE1ORWRnZSBpZD0iRmxvd18xX2RpIiBicG1uRWxlbWVudD0iRmxvd18xIj4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjIxNiIgeT0iMTc4IiAvPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMjgwIiB5PSIxNzgiIC8+DQogICAgICA8L2JwbW5kaTpCUE1ORWRnZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1ORWRnZSBpZD0iRmxvd18yX2RpIiBicG1uRWxlbWVudD0iRmxvd18yIj4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjM4MCIgeT0iMTc4IiAvPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iNDQwIiB5PSIxNzgiIC8+DQogICAgICA8L2JwbW5kaTpCUE1ORWRnZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1ORWRnZSBpZD0iRmxvd18zX2RpIiBicG1uRWxlbWVudD0iRmxvd18zIj4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjU0MCIgeT0iMTc4IiAvPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iNjAwIiB5PSIxNzgiIC8+DQogICAgICA8L2JwbW5kaTpCUE1ORWRnZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1ORWRnZSBpZD0iRmxvd19Eb2NzQXBwcm92ZWRfZGkiIGJwbW5FbGVtZW50PSJGbG93X0RvY3NBcHByb3ZlZCI+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSI2NTAiIHk9IjE3OCIgLz4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjcyMCIgeT0iMTc4IiAvPg0KICAgICAgPC9icG1uZGk6QlBNTkVkZ2U+DQogICAgICANCiAgICAgIDxicG1uZGk6QlBNTkVkZ2UgaWQ9IkZsb3dfRG9jc1JlamVjdGVkX2RpIiBicG1uRWxlbWVudD0iRmxvd19Eb2NzUmVqZWN0ZWQiPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iNjI1IiB5PSIyMDMiIC8+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSI2MjUiIHk9IjMzOCIgLz4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjEwNDciIHk9IjMzOCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5FZGdlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5FZGdlIGlkPSJGbG93XzRfZGkiIGJwbW5FbGVtZW50PSJGbG93XzQiPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iODIwIiB5PSIxNzgiIC8+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSI4ODAiIHk9IjE3OCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5FZGdlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5FZGdlIGlkPSJGbG93XzVfZGkiIGJwbW5FbGVtZW50PSJGbG93XzUiPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iOTgwIiB5PSIxNzgiIC8+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSIxMDQwIiB5PSIxNzgiIC8+DQogICAgICA8L2JwbW5kaTpCUE1ORWRnZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1ORWRnZSBpZD0iRmxvd19Mb3dSaXNrX2RpIiBicG1uRWxlbWVudD0iRmxvd19Mb3dSaXNrIj4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjEwOTAiIHk9IjE3OCIgLz4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjExNjAiIHk9IjE3OCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5FZGdlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5FZGdlIGlkPSJGbG93X0hpZ2hSaXNrX2RpIiBicG1uRWxlbWVudD0iRmxvd19IaWdoUmlzayI+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSIxMDY1IiB5PSIyMDMiIC8+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSIxMDY1IiB5PSIzMjAiIC8+DQogICAgICA8L2JwbW5kaTpCUE1ORWRnZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1ORWRnZSBpZD0iRmxvd19OZWVkTW9yZUluZm9fZGkiIGJwbW5FbGVtZW50PSJGbG93X05lZWRNb3JlSW5mbyI+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSIxMDY1IiB5PSIxNTMiIC8+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSIxMDY1IiB5PSI4MCIgLz4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjMzMCIgeT0iODAiIC8+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSIzMzAiIHk9IjEzOCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5FZGdlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5FZGdlIGlkPSJGbG93XzZfZGkiIGJwbW5FbGVtZW50PSJGbG93XzYiPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTI2MCIgeT0iMTc4IiAvPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTMyMCIgeT0iMTc4IiAvPg0KICAgICAgPC9icG1uZGk6QlBNTkVkZ2U+DQogICAgICANCiAgICAgIDxicG1uZGk6QlBNTkVkZ2UgaWQ9IkZsb3dfTWFuYWdlckFwcHJvdmVkX2RpIiBicG1uRWxlbWVudD0iRmxvd19NYW5hZ2VyQXBwcm92ZWQiPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTM3MCIgeT0iMTc4IiAvPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTQ0MCIgeT0iMTc4IiAvPg0KICAgICAgPC9icG1uZGk6QlBNTkVkZ2U+DQogICAgICANCiAgICAgIDxicG1uZGk6QlBNTkVkZ2UgaWQ9IkZsb3dfTWFuYWdlclJlamVjdGVkX2RpIiBicG1uRWxlbWVudD0iRmxvd19NYW5hZ2VyUmVqZWN0ZWQiPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTM0NSIgeT0iMjAzIiAvPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTM0NSIgeT0iMzM4IiAvPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTA4MyIgeT0iMzM4IiAvPg0KICAgICAgPC9icG1uZGk6QlBNTkVkZ2U+DQogICAgICANCiAgICAgIDxicG1uZGk6QlBNTkVkZ2UgaWQ9IkZsb3dfN19kaSIgYnBtbkVsZW1lbnQ9IkZsb3dfNyI+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSIxNTQwIiB5PSIxNzgiIC8+DQogICAgICAgIDxkaTp3YXlwb2ludCB4PSIxNjAwIiB5PSIxNzgiIC8+DQogICAgICA8L2JwbW5kaTpCUE1ORWRnZT4NCiAgICAgIA0KICAgICAgPGJwbW5kaTpCUE1ORWRnZSBpZD0iRmxvd19TZW5pb3JBcHByb3ZlZF9kaSIgYnBtbkVsZW1lbnQ9IkZsb3dfU2VuaW9yQXBwcm92ZWQiPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTY1MCIgeT0iMTc4IiAvPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTcyMCIgeT0iMTc4IiAvPg0KICAgICAgPC9icG1uZGk6QlBNTkVkZ2U+DQogICAgICANCiAgICAgIDxicG1uZGk6QlBNTkVkZ2UgaWQ9IkZsb3dfU2VuaW9yUmVqZWN0ZWRfZGkiIGJwbW5FbGVtZW50PSJGbG93X1NlbmlvclJlamVjdGVkIj4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjE2MjUiIHk9IjIwMyIgLz4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjE2MjUiIHk9IjMzOCIgLz4NCiAgICAgICAgPGRpOndheXBvaW50IHg9IjEwODMiIHk9IjMzOCIgLz4NCiAgICAgIDwvYnBtbmRpOkJQTU5FZGdlPg0KICAgICAgDQogICAgICA8YnBtbmRpOkJQTU5FZGdlIGlkPSJGbG93XzhfZGkiIGJwbW5FbGVtZW50PSJGbG93XzgiPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTgyMCIgeT0iMTc4IiAvPg0KICAgICAgICA8ZGk6d2F5cG9pbnQgeD0iMTg4MCIgeT0iMTc4IiAvPg0KICAgICAgPC9icG1uZGk6QlBNTkVkZ2U+DQogICAgICANCiAgICA8L2JwbW5kaTpCUE1OUGxhbmU+DQogIDwvYnBtbmRpOkJQTU5EaWFncmFtPg0KPC9icG1uOmRlZmluaXRpb25zPg0K';

    UPDATE public.dw_process_definitions
    SET 
        data = v_bpmn_data,
        updated_at = CURRENT_TIMESTAMP
    WHERE id = v_process_id;

    RAISE NOTICE 'BPMN process updated successfully';
    RAISE NOTICE 'Please redeploy the Digital Lending function unit for changes to take effect';

END $$;